set(NVIMGCDCS_EXAMPLE_NAME nvimtrans)  

set(NVIMGCDCS_EXAMPLE_SRC
      main.cpp
      nvpxm.cpp
)
include_directories(
  ../../include
)   

message(STATUS "CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES: ${CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES}")
include_directories(SYSTEM ${CMAKE_CUDA_TOOLKIT_INCLUDE_DIRECTORIES})

find_library(CUDART_SHARED 
    NAMES cudart
    PATHS ${CMAKE_CUDA_IMPLICIT_LINK_DIRECTORIES}
    )


add_executable(${NVIMGCDCS_EXAMPLE_NAME} ${NVIMGCDCS_EXAMPLE_SRC})

set_property(TARGET ${NVIMGCDCS_EXAMPLE_NAME} PROPERTY CUDA_SEPARABLE_COMPILATION ON)
target_link_libraries(${NVIMGCDCS_EXAMPLE_NAME} PUBLIC nvimgcodecs ${CUDART_SHARED})

install(TARGETS ${NVIMGCDCS_EXAMPLE_NAME}
    DESTINATION bin COMPONENT Applications
  )
